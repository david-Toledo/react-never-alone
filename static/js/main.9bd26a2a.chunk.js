(this["webpackJsonpreact-never-alone"]=this["webpackJsonpreact-never-alone"]||[]).push([[0],{121:function(e,t,n){},266:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n(0),a=n.n(r),c=n(32),o=n.n(c),i=(n(121),n(34)),l=n(7),j=n(8),h=n(10),u=n(9),b=n(11),d=n.n(b),p=n(72),O=n(5),x="http://localhost:3000",f=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleInput=function(t){switch(t.target.name){case"email":e.setState({email:t.target.value});break;case"password":e.setState({password:t.target.value})}},e.handleSubmit=function(t){var n={email:e.state.email,password:e.state.password};d.a.post("".concat(x,"/user_token"),{auth:n}).then((function(t){localStorage.setItem("jwt",t.data.jwt),d.a.defaults.headers.common.Authorization="Bearer "+t.data.jwt,e.props.setCurrentUser(),e.props.history.push("/my_profile")})).catch((function(e){console.warn(e)})),t.preventDefault()},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("label",{children:"Login Form"}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{onChange:this.handleInput,name:"email",type:"email",placeholder:"Enter Email"}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{onChange:this.handleInput,name:"password",type:"password",placeholder:"Enter Password"}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{children:"Login"})]})}}]),n}(a.a.Component),m=n(20),g=(n(139),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return console.log("user",this.props),void 0===this.props.user?Object(s.jsx)("p",{children:"loading data..."}):Object(s.jsxs)("div",{className:"profile",children:[Object(s.jsxs)("h1",{children:["Hello, ",this.props.user.name]}),Object(s.jsx)("h4",{children:"Your email is: "}),Object(s.jsx)("h6",{children:this.props.user.email}),Object(s.jsx)("h4",{children:"About you: "}),Object(s.jsx)("h6",{children:this.props.user.about}),Object(s.jsx)("h4",{children:"Type of User: "}),Object(s.jsx)("h6",{children:this.props.user.user_type}),Object(s.jsx)("br",{}),Object(s.jsx)(m.a,{variant:"primary",href:"#/posts",children:"See latests posts!"})]})}}]),n}(a.a.Component)),v=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"home",children:[Object(s.jsxs)("div",{className:"home_words",children:[Object(s.jsx)("h5",{children:" You are not alone."}),Object(s.jsx)("br",{}),Object(s.jsx)("h4",{children:" We're all in this together..."})]}),Object(s.jsx)("div",{className:"home_image",children:Object(s.jsx)("img",{id:"na",src:"/na-logo.png"})})]})}}]),n}(a.a.Component),y=(n(113),n(75)),S=n(22),C=function(e){return Object(s.jsx)("div",{className:"header",children:Object(s.jsxs)(y.a,{className:"header",bg:"dark",variant:"dark",children:[Object(s.jsx)(y.a.Brand,{href:"/",children:"Never Alone"}),Object(s.jsxs)(S.a,{className:"mr-auto",children:[Object(s.jsx)(S.a.Link,{href:"/",children:"Home"}),void 0!==e.user?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(S.a.Link,{href:"#my_profile",children:"My Profile"}),Object(s.jsx)(S.a.Link,{href:"#Posts",children:"Posts"}),Object(s.jsx)(S.a.Link,{href:"#Inbox",children:"Inbox"}),Object(s.jsx)(S.a.Link,{onClick:function(){e.handleLogout(),e.history.push("/")},children:"Logout"})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(S.a.Link,{href:"#login",children:"Login"}),Object(s.jsx)(S.a.Link,{href:"#SignUp",children:"SignUp"})]})]})]})})},w=function(e){return Object(s.jsxs)("div",{className:"text-white  footer",children:[Object(s.jsx)("sup",{children:"\xae"})," Tiger Industries Co. \ud83d\udc05"]})},k=n(49),L=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.handleChange=function(t){e.setState({query:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),console.log("submit!"),e.setState(t.target.value)},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"search",children:Object(s.jsxs)("form",{children:[Object(s.jsx)("input",{type:"text",onChange:this.handleChange}),Object(s.jsx)("button",{onSubmit:this.handleSubmit,children:" Search "}),Object(s.jsx)("br",{})]})})}}]),n}(a.a.Component),P=n(26),U=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={title:"",body:""},e.handleSubjectChange=function(t){e.setState({title:t.target.value})},e.handleContentChange=function(t){e.setState({body:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onContentSubmit(e.state.title,e.state.body),t.target.reset()},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("h3",{children:" Need some help? Share a post! "}),Object(s.jsx)("br",{}),Object(s.jsx)(P.a,{size:"lg",children:Object(s.jsxs)(P.a.Text,{id:"inputGroup-sizing-lg",children:[Object(s.jsx)("label",{children:"Topic of your post:"}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"text",placeholder:"Enter here what kind of help you need",size:"40",onChange:this.handleSubjectChange})]})}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(P.a,{size:"lg",children:Object(s.jsxs)(P.a.Text,{id:"inputGroup-sizing-lg",children:[Object(s.jsx)("label",{children:" Further Details about your post: "}),Object(s.jsx)("br",{}),Object(s.jsx)("textarea",{placeholder:"Enter here more information",onChange:this.handleContentChange})]})}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{variant:"outline-primary",children:" Share "})]})}}]),n}(a.a.Component),A="http://localhost:3000/posts.json",N=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={posts:[],user_id:"",location:""},e.savePost=function(t,n){console.log("<Posts> savePost()",{title:t,body:n}),d.a.post(A,{title:t,body:n}).then((function(t){console.log("response from POST:",t.data),e.setState({posts:[t.data].concat(Object(k.a)(e.state.posts))})})).catch((function(e){console.dir(e)}))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log("posts Mounted on page"),console.log("token",d.a.defaults.headers.common.Authorization),d.a.get(A).then((function(t){console.log("callback",t.data),e.setState({posts:t.data.reverse()})})).catch(console.warn)}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"posts",children:[Object(s.jsx)(L,{}),Object(s.jsx)("br",{}),Object(s.jsx)(U,{onContentSubmit:this.savePost}),Object(s.jsx)("br",{}),Object(s.jsx)("h1",{children:" Recent Activity "}),Object(s.jsxs)("ul",{children:[this.state.posts.map((function(t){return Object(s.jsxs)("li",{className:"post",onClick:function(){return e.props.history.push("/showpost/".concat(t.id))},children:[" ",Object(s.jsxs)("h3",{children:["Subject: ",t.title]})," posted on: ",t.created_at_formatted," by ",t.user.name," in ",t.user.address," ",Object(s.jsx)("br",{})," Replies:",t.responses.length," ",Object(s.jsx)("br",{}),Object(s.jsxs)("p",{children:[" Content:",t.body," "]})]},t.id)})),Object(s.jsx)("br",{})]})]})}}]),n}(a.a.Component),_=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={body:""},e.handleContentChange=function(t){e.setState({body:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onContentSubmit(e.state.body),t.target.reset()},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("h3",{children:" Reply to this thread: "}),Object(s.jsx)("br",{}),Object(s.jsx)(P.a,{size:"lg",children:Object(s.jsx)(P.a.Text,{id:"inputGroup-sizing-lg",children:Object(s.jsx)("textarea",{placeholder:"Enter here your reply",onChange:this.handleContentChange})})}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{variant:"outline-primary",children:" Share "})]})}}]),n}(a.a.Component),z="http://localhost:3000/posts",I="http://localhost:3000/responses.json",T=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={post:{responses:[],user:{}},responses:[]},e.fetchPost=function(){var t=e.props.match.params.id,n="".concat(z,"/").concat(t);d.a.get(n).then((function(t){console.log("post",t.data),e.setState({post:t.data,responses:t.data.responses})})).catch(console.warn)},e.saveResponse=function(t){console.log("<Response> saveResponse()",{body:t}),d.a.post(I,{body:t,post_id:e.props.match.params.id}).then((function(t){console.log("response from POST:",t.data),e.setState({responses:[t.data].concat(Object(k.a)(e.state.responses))})})).catch((function(e){console.dir(e)}))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.fetchPost()}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"home",children:[Object(s.jsx)(_,{onContentSubmit:this.saveResponse}),Object(s.jsx)("br",{}),Object(s.jsxs)("h2",{children:[" ",this.state.post.title]}),"Posted on: ",this.state.post.created_at_formatted,Object(s.jsxs)("p",{children:["in: ",this.state.post.user.address," "]}),Object(s.jsxs)("h5",{children:[" ",this.state.post.body," "]}),Object(s.jsx)("hr",{}),Object(s.jsx)("h3",{children:" Replies: "}),Object(s.jsx)("ul",{children:this.state.responses.map((function(e){return Object(s.jsxs)("li",{children:["From :",e.user.name,Object(s.jsxs)("h5",{children:["Content:",e.body," "]}),Object(s.jsx)("hr",{})]},e.id)}))})]})}}]),n}(a.a.Component),D="http://localhost:3000",F=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={currentUser:"loading"},e.setCurrentUser=function(){var t="Bearer "+localStorage.getItem("jwt");d.a.defaults.headers.common.Authorization=t,console.log("set current user",t,d.a.defaults.headers.common.Authorization),d.a.get("".concat(D,"/users/current")).then((function(t){e.setState({currentUser:t.data})})).catch((function(e){return console.warn(e)}))},e.handleLogout=function(){e.setState({currentUser:void 0}),localStorage.removeItem("jwt"),d.a.defaults.headers.common.Authorization=void 0},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.setCurrentUser()}},{key:"render",value:function(){var e=this;return"loading"===this.state.currentUser?Object(s.jsx)("p",{children:" Loading ..."}):Object(s.jsx)("div",{children:Object(s.jsxs)(p.a,{children:[Object(s.jsx)(O.a,{render:function(t){return Object(s.jsx)(C,Object(i.a)({user:e.state.currentUser,handleLogout:e.handleLogout},t))}}),Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(O.a,{exact:!0,path:"/my_profile",render:function(t){return Object(s.jsx)(g,Object(i.a)({user:e.state.currentUser},t))}}),Object(s.jsx)(O.a,{exact:!0,path:"/login",render:function(t){return Object(s.jsx)(f,Object(i.a)({setCurrentUser:e.setCurrentUser},t))}}),Object(s.jsx)(O.a,{exact:!0,path:"/",component:v}),Object(s.jsx)(O.a,{exact:!0,path:"/Posts",render:function(t){return Object(s.jsx)(N,Object(i.a)({user:e.state.currentUser},t))}}),Object(s.jsx)(O.a,{exact:!0,path:"/showpost/:id",render:function(t){return Object(s.jsx)(T,Object(i.a)({user:e.state.currentUser},t))}})]}),Object(s.jsx)(w,{})]})})}}]),n}(a.a.Component),R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,270)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),s(e),r(e),a(e),c(e)}))};n(265);o.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(F,{})}),document.getElementById("root")),R()}},[[266,1,2]]]);
//# sourceMappingURL=main.9bd26a2a.chunk.js.map